#1.Logstash input
input {
#1.Logstash input via tcp
	tcp {
        	port => 5045
        	codec => json_lines
   	 }	
#2.Logstash input via beats
    	#beats {
   	 #     port => 5045
    	 #     ssl => true
    	 #     ssl_certificate => "/etc/pki/tls/certs/logstash-forwarder.crt"
    	 #     ssl_key => "/etc/pki/tls/private/logstash-forwarder.key"
    	#}
}
#Logstash output
output {

        if [appIndex] == "SUBSCRIPTION-MS" {
                elasticsearch {
                        hosts => [ "http://6cdc56ca72854c4e96e0ca2145a15205.10.73.2.22.ip.es.io:9200" ]
			user => "elastic"
			password => "bTAB76tG8QmoTk8DMhiMdiT5"
                        sniffing => false
                        manage_template => false
                        index => "subscriptions-ms-%{+YYYY.MM.dd}"
                               }
        }

        if [appIndex] == "INTERACTIONS-MS" {
                elasticsearch {
                        hosts => [ "http://6cdc56ca72854c4e96e0ca2145a15205.10.73.2.22.ip.es.io:9200" ]
			user => "elastic"
			password => "bTAB76tG8QmoTk8DMhiMdiT5"
                        sniffing => false
                        manage_template => false
                        index => "interactions-ms-%{+YYYY.MM.dd}"
               }
        }           
}

